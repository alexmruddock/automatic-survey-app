{"ast":null,"code":"import authenticatedFetch from './authenticatedFetch';\n\n// Function to call the API for generating an image prompt\nconst generateImagePrompt = async title => {\n  try {\n    const response = await authenticatedFetch('https://vigilant-orbit-v6x6pp4w99636w9v-3000.app.github.dev/generate-image-prompt', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        title: surveyData.title,\n        description: surveyData.description\n      })\n    });\n    if (response.ok) {\n      const data = await response.json();\n      return data.prompt;\n    } else {\n      throw new Error('Failed to generate image prompt');\n    }\n  } catch (error) {\n    console.error('Error in generateImagePrompt:', error);\n    throw error;\n  }\n};\n\n// Function to call the API to generate an image based on the prompt\nconst generateImage = async prompt => {\n  try {\n    const response = await authenticatedFetch('https://vigilant-orbit-v6x6pp4w99636w9v-3000.app.github.dev/generate-image', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        prompt\n      })\n    });\n    if (response.ok) {\n      const data = await response.json();\n      return data.imageUrl;\n    } else {\n      throw new Error('Failed to generate image');\n    }\n  } catch (error) {\n    console.error('Error in generateImage:', error);\n    throw error;\n  }\n};\n\n// Main function to be exported and used in survey creation\nexport const generateSurveyImage = async surveyData => {\n  const prompt = await generateImagePrompt(surveyData);\n  const imageUrl = await generateImage(prompt);\n  return imageUrl;\n};","map":{"version":3,"names":["authenticatedFetch","generateImagePrompt","title","response","method","headers","body","JSON","stringify","surveyData","description","ok","data","json","prompt","Error","error","console","generateImage","imageUrl","generateSurveyImage"],"sources":["/workspaces/automatic-survey-app/frontend/src/generateSurveyImage.js"],"sourcesContent":["import authenticatedFetch from './authenticatedFetch';\n\n// Function to call the API for generating an image prompt\nconst generateImagePrompt = async (title) => {\n  try {\n    const response = await authenticatedFetch(\n      'https://vigilant-orbit-v6x6pp4w99636w9v-3000.app.github.dev/generate-image-prompt',\n      {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          title: surveyData.title,\n          description: surveyData.description\n        })\n      }\n    );\n\n    if (response.ok) {\n      const data = await response.json();\n      return data.prompt;\n    } else {\n      throw new Error('Failed to generate image prompt');\n    }\n  } catch (error) {\n    console.error('Error in generateImagePrompt:', error);\n    throw error;\n  }\n};\n\n// Function to call the API to generate an image based on the prompt\nconst generateImage = async (prompt) => {\n    try {\n        const response = await authenticatedFetch(\n          'https://vigilant-orbit-v6x6pp4w99636w9v-3000.app.github.dev/generate-image', \n          {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({ prompt })\n          }\n        );\n    \n        if (response.ok) {\n          const data = await response.json();\n          return data.imageUrl;\n        } else {\n          throw new Error('Failed to generate image');\n        }\n      } catch (error) {\n        console.error('Error in generateImage:', error);\n        throw error;\n      }\n};\n\n// Main function to be exported and used in survey creation\nexport const generateSurveyImage = async (surveyData) => {\n  const prompt = await generateImagePrompt(surveyData);\n  const imageUrl = await generateImage(prompt);\n  return imageUrl;\n};\n"],"mappings":"AAAA,OAAOA,kBAAkB,MAAM,sBAAsB;;AAErD;AACA,MAAMC,mBAAmB,GAAG,MAAOC,KAAK,IAAK;EAC3C,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMH,kBAAkB,CACvC,mFAAmF,EACnF;MACEI,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACP,cAAc,EAAE;MAClB,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QACnBN,KAAK,EAAEO,UAAU,CAACP,KAAK;QACvBQ,WAAW,EAAED,UAAU,CAACC;MAC1B,CAAC;IACH,CACF,CAAC;IAED,IAAIP,QAAQ,CAACQ,EAAE,EAAE;MACf,MAAMC,IAAI,GAAG,MAAMT,QAAQ,CAACU,IAAI,CAAC,CAAC;MAClC,OAAOD,IAAI,CAACE,MAAM;IACpB,CAAC,MAAM;MACL,MAAM,IAAIC,KAAK,CAAC,iCAAiC,CAAC;IACpD;EACF,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,+BAA+B,EAAEA,KAAK,CAAC;IACrD,MAAMA,KAAK;EACb;AACF,CAAC;;AAED;AACA,MAAME,aAAa,GAAG,MAAOJ,MAAM,IAAK;EACpC,IAAI;IACA,MAAMX,QAAQ,GAAG,MAAMH,kBAAkB,CACvC,4EAA4E,EAC5E;MACEI,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACP,cAAc,EAAE;MAClB,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QAAEM;MAAO,CAAC;IACjC,CACF,CAAC;IAED,IAAIX,QAAQ,CAACQ,EAAE,EAAE;MACf,MAAMC,IAAI,GAAG,MAAMT,QAAQ,CAACU,IAAI,CAAC,CAAC;MAClC,OAAOD,IAAI,CAACO,QAAQ;IACtB,CAAC,MAAM;MACL,MAAM,IAAIJ,KAAK,CAAC,0BAA0B,CAAC;IAC7C;EACF,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;IAC/C,MAAMA,KAAK;EACb;AACN,CAAC;;AAED;AACA,OAAO,MAAMI,mBAAmB,GAAG,MAAOX,UAAU,IAAK;EACvD,MAAMK,MAAM,GAAG,MAAMb,mBAAmB,CAACQ,UAAU,CAAC;EACpD,MAAMU,QAAQ,GAAG,MAAMD,aAAa,CAACJ,MAAM,CAAC;EAC5C,OAAOK,QAAQ;AACjB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}