{"ast":null,"code":"// Function to call the API for generating a survey\nexport async function generateSurvey(description) {\n  const token = localStorage.getItem(\"accessToken\");\n  console.log(\"Description received in generateSurvey:\", description);\n  const response = await fetch(\"generate-survey\", {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      \"Authorization\": `Bearer ${token}`\n    },\n    body: JSON.stringify({\n      description\n    })\n  });\n  if (!response.ok) {\n    throw new Error(`Error generating survey: ${response.status}`);\n  }\n  const data = await response.json();\n  return JSON.parse(data.survey);\n}","map":{"version":3,"names":["generateSurvey","description","token","localStorage","getItem","console","log","response","fetch","method","headers","body","JSON","stringify","ok","Error","status","data","json","parse","survey"],"sources":["/workspaces/automatic-survey-app/frontend/src/generateSurvey.js"],"sourcesContent":["// Function to call the API for generating a survey\nexport async function generateSurvey(description) {\n    const token = localStorage.getItem(\"accessToken\");\n  \n    console.log(\"Description received in generateSurvey:\", description);\n    \n    const response = await fetch(\n      \"generate-survey\",\n      {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"Authorization\": `Bearer ${token}`\n        },\n        body: JSON.stringify({ description }),\n      }\n    );\n  \n    if (!response.ok) {\n      throw new Error(`Error generating survey: ${response.status}`);\n    }\n  \n    const data = await response.json();\n    return JSON.parse(data.survey);\n  }\n  "],"mappings":"AAAA;AACA,OAAO,eAAeA,cAAcA,CAACC,WAAW,EAAE;EAC9C,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC;EAEjDC,OAAO,CAACC,GAAG,CAAC,yCAAyC,EAAEL,WAAW,CAAC;EAEnE,MAAMM,QAAQ,GAAG,MAAMC,KAAK,CAC1B,iBAAiB,EACjB;IACEC,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MACP,cAAc,EAAE,kBAAkB;MAClC,eAAe,EAAG,UAASR,KAAM;IACnC,CAAC;IACDS,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;MAAEZ;IAAY,CAAC;EACtC,CACF,CAAC;EAED,IAAI,CAACM,QAAQ,CAACO,EAAE,EAAE;IAChB,MAAM,IAAIC,KAAK,CAAE,4BAA2BR,QAAQ,CAACS,MAAO,EAAC,CAAC;EAChE;EAEA,MAAMC,IAAI,GAAG,MAAMV,QAAQ,CAACW,IAAI,CAAC,CAAC;EAClC,OAAON,IAAI,CAACO,KAAK,CAACF,IAAI,CAACG,MAAM,CAAC;AAChC"},"metadata":{},"sourceType":"module","externalDependencies":[]}